{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/mravas/Box/Coding/Projects/bookio/components/SmartTimeInput.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from 'react';\n\nconst SmartTimeInput = ({ value, onChange, placeholder, id, onTab }) => {\n  const [displayValue, setDisplayValue] = useState(value || '');\n\n  useEffect(() => {\n    setDisplayValue(value || '');\n  }, [value]);\n\n  const formatTime = (raw) => {\n    // Remove non-numeric\n    const digits = raw.replace(/\\D/g, '');\n    \n    if (digits.length === 0) return '';\n    \n    let hours = '';\n    let minutes = '00';\n\n    if (digits.length <= 2) {\n      hours = digits.padStart(2, '0');\n    } else if (digits.length === 3) {\n      hours = '0' + digits[0];\n      minutes = digits.slice(1);\n    } else {\n      hours = digits.slice(0, 2);\n      minutes = digits.slice(2, 4);\n    }\n\n    // Clamp values\n    let h = parseInt(hours, 10);\n    let m = parseInt(minutes, 10);\n    \n    if (h > 23) h = 23;\n    if (m > 59) m = 59;\n\n    return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}`;\n  };\n\n  const handleBlur = () => {\n    const formatted = formatTime(displayValue);\n    setDisplayValue(formatted);\n    onChange(formatted);\n  };\n\n  const handleChange = (e) => {\n    const val = e.target.value;\n    // Allow typing numbers and colon\n    if (/^[0-9:]*$/.test(val)) {\n      setDisplayValue(val);\n    }\n  };\n\n  return (\n    <input\n      id={id}\n      type=\"text\"\n      className=\"input-base\"\n      style={{ textAlign: 'center', maxWidth: '100px' }}\n      placeholder={placeholder}\n      value={displayValue}\n      onChange={handleChange}\n      onBlur={handleBlur}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') handleBlur();\n        if (e.key === 'Tab' && !e.shiftKey && onTab) {\n          e.preventDefault();\n          handleBlur(); // Ensure formatting is applied before moving on\n          onTab();\n        }\n      }}\n    />\n  );\n};\n\nexport default SmartTimeInput;\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGA,MAAM,iBAAiB,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,EAAE,EAAE,KAAK,EAAE;IACjE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC,SAAS;IAE1D,IAAA,kNAAS,EAAC;QACR,gBAAgB,SAAS;IAC3B,GAAG;QAAC;KAAM;IAEV,MAAM,aAAa,CAAC;QAClB,qBAAqB;QACrB,MAAM,SAAS,IAAI,OAAO,CAAC,OAAO;QAElC,IAAI,OAAO,MAAM,KAAK,GAAG,OAAO;QAEhC,IAAI,QAAQ;QACZ,IAAI,UAAU;QAEd,IAAI,OAAO,MAAM,IAAI,GAAG;YACtB,QAAQ,OAAO,QAAQ,CAAC,GAAG;QAC7B,OAAO,IAAI,OAAO,MAAM,KAAK,GAAG;YAC9B,QAAQ,MAAM,MAAM,CAAC,EAAE;YACvB,UAAU,OAAO,KAAK,CAAC;QACzB,OAAO;YACL,QAAQ,OAAO,KAAK,CAAC,GAAG;YACxB,UAAU,OAAO,KAAK,CAAC,GAAG;QAC5B;QAEA,eAAe;QACf,IAAI,IAAI,SAAS,OAAO;QACxB,IAAI,IAAI,SAAS,SAAS;QAE1B,IAAI,IAAI,IAAI,IAAI;QAChB,IAAI,IAAI,IAAI,IAAI;QAEhB,OAAO,GAAG,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,EAAE,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IAC5E;IAEA,MAAM,aAAa;QACjB,MAAM,YAAY,WAAW;QAC7B,gBAAgB;QAChB,SAAS;IACX;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,MAAM,EAAE,MAAM,CAAC,KAAK;QAC1B,iCAAiC;QACjC,IAAI,YAAY,IAAI,CAAC,MAAM;YACzB,gBAAgB;QAClB;IACF;IAEA,qBACE,8OAAC;QACC,IAAI;QACJ,MAAK;QACL,WAAU;QACV,OAAO;YAAE,WAAW;YAAU,UAAU;QAAQ;QAChD,aAAa;QACb,OAAO;QACP,UAAU;QACV,QAAQ;QACR,WAAW,CAAC;YACV,IAAI,EAAE,GAAG,KAAK,SAAS;YACvB,IAAI,EAAE,GAAG,KAAK,SAAS,CAAC,EAAE,QAAQ,IAAI,OAAO;gBAC3C,EAAE,cAAc;gBAChB,cAAc,gDAAgD;gBAC9D;YACF;QACF;;;;;;AAGN;uCAEe"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/mravas/Box/Coding/Projects/bookio/components/LocationAutocomplete.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Search, MapPin, Loader2, Home } from 'lucide-react';\n\nconst LocationAutocomplete = ({ value, onChange, placeholder, onSelectCoord, onHomeClick, id, onFocus, onBlur }) => {\n  const [query, setQuery] = useState(value || '');\n  const [suggestions, setSuggestions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const dropdownRef = useRef(null);\n  const timeoutRef = useRef(null);\n\n  useEffect(() => {\n    setQuery(value || '');\n    if (!value) setSuggestions([]);\n  }, [value]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowDropdown(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const abortControllerRef = useRef(null);\n\n  const fetchSuggestions = async (searchQuery) => {\n    if (!searchQuery || searchQuery.length < 1) {\n      setSuggestions([]);\n      return;\n    }\n\n    // Cancel previous request\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n    abortControllerRef.current = new AbortController();\n\n    setLoading(true);\n    try {\n      const response = await fetch(\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(searchQuery)}&countrycodes=sk&limit=5&addressdetails=1`,\n        { \n          headers: { \n            'Accept-Language': 'sk',\n            'User-Agent': 'BookioRideEvidence/1.0'\n          },\n          signal: abortControllerRef.current.signal\n        }\n      );\n      if (!response.ok) throw new Error('Search failed');\n      const data = await response.json();\n      setSuggestions(data);\n      setShowDropdown(true);\n    } catch (error) {\n      if (error.name === 'AbortError') return;\n      console.error('Error fetching locations:', error);\n      setSuggestions([]);\n    } finally {\n      if (abortControllerRef.current?.signal.aborted) return;\n      setLoading(false);\n    }\n  };\n\n  // Debounce logic for fetching suggestions\n  const handleInputChange = (e) => {\n    const val = e.target.value;\n    setQuery(val);\n\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    timeoutRef.current = setTimeout(() => {\n      fetchSuggestions(val);\n    }, 300); // 300ms delay\n  };\n\n  const isSelectingRef = useRef(false);\n\n  const handleSelect = (item) => {\n    isSelectingRef.current = true;\n    const name = item.display_name.split(',').slice(0, 3).join(',');\n    setQuery(name);\n    onChange(name);\n    setShowDropdown(false);\n    if (onSelectCoord) {\n      onSelectCoord(name, { lat: item.lat, lon: item.lon });\n    }\n    setTimeout(() => {\n      isSelectingRef.current = false;\n    }, 500);\n  };\n\n  const handleBlur = (e) => {\n    // If the new focus is inside our own component (e.g. clicking a suggestion), don't blur\n    if (e.relatedTarget && dropdownRef.current && dropdownRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    // Call prop onBlur if provided\n    if (onBlur) onBlur(e);\n\n    setTimeout(() => {\n      if (isSelectingRef.current) return;\n      if (query !== value) {\n        setQuery(value || '');\n      }\n      setShowDropdown(false);\n    }, 250);\n  };\n\n  return (\n    <div style={{ position: 'relative', width: '100%' }} ref={dropdownRef}>\n      <div style={{ position: 'relative' }}>\n        <MapPin size={14} style={{ position: 'absolute', left: '10px', top: '50%', transform: 'translateY(-50%)', color: 'var(--text-secondary)' }} />\n        <input\n          id={id}\n          type=\"text\"\n          className=\"input-base\"\n          style={{ paddingLeft: '2.2rem', paddingRight: '2.5rem' }}\n          placeholder={placeholder}\n          value={query}\n          onChange={handleInputChange}\n          onBlur={handleBlur}\n          onFocus={(e) => {\n            if (query.length >= 1) setShowDropdown(true);\n            if (onFocus) onFocus(e);\n          }}\n        />\n        <div style={{ position: 'absolute', right: '10px', top: '50%', transform: 'translateY(-50%)', display: 'flex', alignItems: 'center', gap: '8px' }}>\n          {loading && (\n            <Loader2 size={14} className=\"animate-spin\" style={{ color: 'var(--accent-primary)' }} />\n          )}\n          {!query && onHomeClick && (\n            <button\n              onClick={onHomeClick}\n              className=\"home-chip\"\n              style={{\n                padding: '4px',\n                borderRadius: '6px',\n                background: 'rgba(var(--accent-primary-rgb), 0.1)',\n                border: '1px solid rgba(var(--accent-primary-rgb), 0.2)',\n                color: 'var(--accent-primary)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}\n              title=\"Use Home Address\"\n            >\n              <Home size={14} />\n            </button>\n          )}\n          {query && (\n            <button\n              onClick={() => {\n                setQuery('');\n                onChange('');\n                if (onSelectCoord) onSelectCoord('', null);\n                setSuggestions([]);\n                setShowDropdown(false);\n              }}\n              style={{\n                background: 'none',\n                border: 'none',\n                color: 'var(--text-secondary)',\n                cursor: 'pointer',\n                padding: '4px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                borderRadius: '50%',\n                transition: 'background 0.2s'\n              }}\n              onMouseEnter={(e) => e.target.style.background = 'rgba(255,255,255,0.1)'}\n              onMouseLeave={(e) => e.target.style.background = 'transparent'}\n              title=\"Clear\"\n            >\n              <div style={{ fontSize: '14px', lineHeight: 1, fontWeight: 800 }}>✕</div>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {showDropdown && suggestions.length > 0 && (\n        <div \n          className=\"glass\" \n          style={{ \n            position: 'absolute', \n            top: '100%', \n            left: 0, \n            right: 0, \n            zIndex: 9999, \n            marginTop: '0.5rem', \n            maxHeight: '200px', \n            overflowY: 'auto',\n            padding: '0.5rem',\n            background: 'var(--bg-color)',\n            borderColor: 'var(--accent-primary)'\n          }}\n        >\n          {suggestions.map((item, index) => (\n            <div\n              key={index}\n              style={{ \n                padding: '0.75rem', \n                cursor: 'pointer', \n                borderRadius: '0.5rem',\n                borderBottom: index !== suggestions.length - 1 ? '1px solid var(--border-color)' : 'none'\n              }}\n              className=\"suggestion-item\"\n              onMouseDown={(e) => {\n                e.preventDefault(); // Prevent input blur\n                handleSelect(item);\n              }}\n              onMouseEnter={(e) => e.target.style.background = 'rgba(255,255,255,0.05)'}\n              onMouseLeave={(e) => e.target.style.background = 'transparent'}\n            >\n              <div style={{ fontSize: '0.9rem' }}>{item.display_name}</div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LocationAutocomplete;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///Users/mravas/Box/Coding/Projects/bookio/components/SimpleAutocomplete.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Plus } from 'lucide-react';\n\nconst SimpleAutocomplete = ({ value, onChange, placeholder, suggestions = [], onFocus, onBlur, onSaveNew }) => {\n  const [query, setQuery] = useState(value || '');\n  const [filteredSuggestions, setFilteredSuggestions] = useState([]);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const dropdownRef = useRef(null);\n\n  useEffect(() => {\n    setQuery(value || '');\n  }, [value]);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setShowDropdown(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (e) => {\n    const val = e.target.value;\n    setQuery(val);\n    onChange(val);\n\n    if (val.trim()) {\n      const filtered = suggestions.filter(s => \n        s.toLowerCase().includes(val.toLowerCase())\n      );\n      setFilteredSuggestions(filtered);\n      setShowDropdown(true);\n    } else {\n      setFilteredSuggestions([]);\n      setShowDropdown(false);\n    }\n  };\n\n  const handleFocus = (e) => {\n    if (onFocus) onFocus(e);\n    if (query.trim()) {\n       const filtered = suggestions.filter(s => \n        s.toLowerCase().includes(query.toLowerCase())\n      );\n      setFilteredSuggestions(filtered);\n      setShowDropdown(true);\n    } else {\n       // Show all suggestions if query is empty (optional, but \"offer stored\" might imply showing recent/all)\n       // Let's show all unique history if empty\n       setFilteredSuggestions(suggestions);\n       setShowDropdown(true);\n    }\n  };\n\n  const handleSelect = (item) => {\n    setQuery(item);\n    onChange(item);\n    setShowDropdown(false);\n  };\n\n  return (\n    <div style={{ position: 'relative', width: '100%' }} ref={dropdownRef}>\n      <input\n        type=\"text\"\n        className=\"input-base\"\n        style={{ padding: '0.45rem 0.6rem', fontSize: '0.8rem' }}\n        value={query}\n        onChange={handleInputChange}\n        onFocus={handleFocus}\n        onBlur={(e) => {\n           if (onBlur) onBlur(e);\n           setTimeout(() => setShowDropdown(false), 200);\n        }}\n        placeholder={placeholder}\n      />\n      \n      {onSaveNew && query && !suggestions.includes(query) && (\n        <button\n          onClick={(e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            onSaveNew(query);\n          }}\n          className=\"glass\"\n          style={{\n            position: 'absolute',\n            right: '8px',\n            top: '50%',\n            transform: 'translateY(-50%)',\n            background: 'rgba(16, 185, 129, 0.1)',\n            border: '1px solid rgba(16, 185, 129, 0.2)',\n            borderRadius: '4px',\n            padding: '2px',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: 'var(--success)',\n            zIndex: 10\n          }}\n          title=\"Save to list\"\n        >\n          <Plus size={14} />\n        </button>\n      )}\n\n      {showDropdown && filteredSuggestions.length > 0 && (\n        <div \n          className=\"glass\"\n          style={{ \n            position: 'absolute', \n            top: '100%', \n            left: 0, \n            right: 0, \n            zIndex: 9999, \n            marginTop: '0.5rem', \n            maxHeight: '150px', \n            overflowY: 'auto',\n            padding: '0.5rem',\n            background: 'var(--bg-color)',\n            borderColor: 'var(--accent-primary)'\n          }}\n        >\n          {filteredSuggestions.map((item, index) => (\n            <div\n              key={index}\n              style={{ \n                padding: '0.5rem', \n                cursor: 'pointer', \n                borderRadius: '0.25rem',\n                fontSize: '0.8rem',\n                borderBottom: index !== filteredSuggestions.length - 1 ? '1px solid var(--border-color)' : 'none'\n              }}\n              onMouseDown={(e) => {\n                e.preventDefault(); \n                handleSelect(item);\n              }}\n              onMouseEnter={(e) => e.target.style.background = 'rgba(255,255,255,0.05)'}\n              onMouseLeave={(e) => e.target.style.background = 'transparent'}\n            >\n              {item}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SimpleAutocomplete;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///Users/mravas/Box/Coding/Projects/bookio/app/page.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useMemo, useRef } from 'react';\nimport { format, addMonths, subMonths, endOfMonth, startOfMonth } from 'date-fns';\nimport { \n  ChevronLeft, \n  ChevronRight, \n  Plus, \n  Trash2, \n  Download, \n  Car, \n  MapPin, \n  Calendar as CalendarIcon,\n  RefreshCw,\n  Gauge,\n  Route,\n  Home as HomeIcon\n} from 'lucide-react';\nimport * as XLSX from 'xlsx';\nimport SmartTimeInput from '../components/SmartTimeInput';\nimport LocationAutocomplete from '../components/LocationAutocomplete';\nimport SimpleAutocomplete from '../components/SimpleAutocomplete';\n\nexport default function Home() {\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n  const [activeDay, setActiveDay] = useState(new Date().getDate());\n  const [allMonthsData, setAllMonthsData] = useState({}); // { '2026-02': { rides: {}, kmStartOfMonth: 0 } }\n  const [kmStartOfMonth, setKmStartOfMonth] = useState(0);\n  const [rides, setRides] = useState({}); // { [day]: [ride1, ride2] }\n  const [isCalendarOpen, setIsCalendarOpen] = useState(false);\n  const [isInitialLoadComplete, setIsInitialLoadComplete] = useState(false);\n  const [showPurposeForRide, setShowPurposeForRide] = useState({}); // { rideId: boolean }\n  const [homeAddress, setHomeAddress] = useState('');\n  const [homeCoords, setHomeCoords] = useState(null);\n  const [isEditingHome, setIsEditingHome] = useState(false);\n  const [activeFieldId, setActiveFieldId] = useState(null);\n  const [storedPurposes, setStoredPurposes] = useState([]);\n  const calendarRef = useRef(null);\n  const homeRef = useRef(null);\n  const homeEditRef = useRef(null);\n  const isLoadingMonthRef = useRef(false);\n  const saveTimeoutRef = useRef(null);\n\n  const currentMonthKey = format(currentMonth, 'yyyy-MM');\n\n  // Load from Server on mount\n  useEffect(() => {\n    const loadFromServer = async () => {\n      try {\n        let serverData;\n        if (typeof window !== 'undefined' && window.electronAPI) {\n          serverData = await window.electronAPI.getData();\n        } else {\n          const response = await fetch('/api/data');\n          if (response.ok) {\n            serverData = await response.json();\n          }\n        }\n\n        if (serverData) {\n          const months = serverData.months || {};\n          \n          // Migrate legacy pointMiddle to waypoints array\n          Object.keys(months).forEach(mkey => {\n            const mData = months[mkey];\n            if (mData.rides) {\n              Object.keys(mData.rides).forEach(day => {\n                mData.rides[day] = mData.rides[day].map(r => {\n                  if (r.pointMiddle && (!r.waypoints || r.waypoints.length === 0)) {\n                    return {\n                      ...r,\n                      waypoints: [{ id: Date.now(), name: r.pointMiddle, coords: r.coordsMiddle }],\n                      pointMiddle: undefined,\n                      coordsMiddle: undefined\n                    };\n                  }\n                  // Ensure waypoints is always an array\n                  if (!r.waypoints) r.waypoints = [];\n                  return r;\n                });\n              });\n            }\n          });\n\n          setAllMonthsData(months);\n          setAllMonthsData(months);\n          setHomeAddress(serverData.homeAddress || '');\n          setHomeCoords(serverData.homeCoords || null);\n          setStoredPurposes(serverData.purposes || []);\n          \n          // Initial load for current month\n          const currentData = months[currentMonthKey];\n          if (currentData) {\n            setRides(currentData.rides || {});\n            setKmStartOfMonth(currentData.kmStartOfMonth || 0);\n          }\n        }\n      } catch (e) {\n        console.error('Backend load failed:', e);\n      } finally {\n        setIsInitialLoadComplete(true);\n      }\n    };\n    loadFromServer();\n  }, []);\n\n  // Switch month data\n  useEffect(() => {\n    isLoadingMonthRef.current = true;\n    const monthData = allMonthsData[currentMonthKey];\n    if (monthData) {\n      setRides(monthData.rides || {});\n      setKmStartOfMonth(monthData.kmStartOfMonth || 0);\n    } else {\n      // If no data for this month, try to chain from previous month\n      const monthDate = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);\n      const prevMonthKey = format(subMonths(monthDate, 1), 'yyyy-MM');\n      const prevMonthData = allMonthsData[prevMonthKey];\n      \n      let inheritedKm = 0;\n      setRides({});\n      setKmStartOfMonth(0);\n    }\n    // Reset loading flag after state updates\n    setTimeout(() => {\n      isLoadingMonthRef.current = false;\n    }, 100);\n  }, [currentMonthKey, allMonthsData]);\n\n  // Auto-show PURPOSE field for rides with existing data\n  useEffect(() => {\n    const newShowPurpose = {};\n    Object.keys(rides).forEach(day => {\n      rides[day].forEach(ride => {\n        if (ride.purpose) {\n          newShowPurpose[ride.id] = true;\n        }\n      });\n    });\n    setShowPurposeForRide(newShowPurpose);\n  }, [rides]);\n\n  // Save to Server on change (debounced)\n  useEffect(() => {\n    // Skip save if we're currently loading month data\n    if (isLoadingMonthRef.current || !isInitialLoadComplete) {\n      return;\n    }\n\n    // Clear any pending save\n    if (saveTimeoutRef.current) {\n      clearTimeout(saveTimeoutRef.current);\n    }\n\n    // Debounce save to prevent rapid requests\n    saveTimeoutRef.current = setTimeout(async () => {\n      try {\n        let monthRidesTotal = 0;\n        Object.values(rides).forEach(dayArr => {\n          dayArr.forEach(r => monthRidesTotal += (parseFloat(r.distanceKm) || 0));\n        });\n\n        const updatedAllMonths = {\n          ...allMonthsData,\n          [currentMonthKey]: {\n            ...allMonthsData[currentMonthKey],\n            rides,\n            kmStartOfMonth: parseFloat(kmStartOfMonth) || 0\n          }\n        };\n\n        if (typeof window !== 'undefined' && window.electronAPI) {\n          await window.electronAPI.saveData({ \n            months: updatedAllMonths,\n            homeAddress,\n            homeCoords,\n            purposes: storedPurposes\n          });\n        } else {\n          await fetch('/api/data', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ \n              months: updatedAllMonths,\n              homeAddress,\n              homeCoords,\n              purposes: storedPurposes\n            })\n          });\n        }\n        \n        // Update local cache to allow seamless month switching without reload\n        setAllMonthsData(updatedAllMonths);\n      } catch (e) {\n        console.error('Save failed:', e);\n      }\n    }, 1000);\n\n    return () => {\n      if (saveTimeoutRef.current) {\n        clearTimeout(saveTimeoutRef.current);\n      }\n    };\n  }, [rides, kmStartOfMonth, currentMonthKey, isInitialLoadComplete, allMonthsData, homeAddress, homeCoords, storedPurposes]);\n\n  // Click outside to close calendar\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (calendarRef.current && !calendarRef.current.contains(event.target)) {\n        setIsCalendarOpen(false);\n      }\n    };\n    if (isCalendarOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isCalendarOpen]);\n\n  // Click outside to close home editing\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      const isIconClick = homeRef.current && homeRef.current.contains(event.target);\n      const isEditRowClick = homeEditRef.current && homeEditRef.current.contains(event.target);\n      \n      if (!isIconClick && !isEditRowClick) {\n        setIsEditingHome(false);\n      }\n    };\n    if (isEditingHome) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isEditingHome]);\n\n  const fetchRouteInfo = async (coordsA, coordsB, waypoints = []) => {\n    if (!coordsA || !coordsB) return { distance: 0, duration: 0 };\n    try {\n      // Build coordinate string with all points\n      let coordsList = [`${coordsA.lon},${coordsA.lat}`];\n      \n      // Add valid waypoint coordinates\n      if (waypoints && waypoints.length > 0) {\n        waypoints.forEach(wp => {\n          if (wp.coords) {\n            coordsList.push(`${wp.coords.lon},${wp.coords.lat}`);\n          }\n        });\n      }\n      \n      coordsList.push(`${coordsB.lon},${coordsB.lat}`);\n      const coordString = coordsList.join(';');\n      \n      const response = await fetch(\n        `https://router.project-osrm.org/route/v1/driving/${coordString}?overview=false`\n      );\n      const data = await response.json();\n      if (data.routes && data.routes[0]) {\n        return {\n          distance: Math.round(data.routes[0].distance / 1000),\n          duration: Math.round(data.routes[0].duration / 60)\n        };\n      }\n    } catch (error) {\n      console.error('Error fetching route:', error);\n    }\n    return { distance: 0, duration: 0 };\n  };\n\n  const addMinutesToTime = (timeStr, minutes) => {\n    if (!timeStr || !timeStr.includes(':')) return '';\n    const [h, m] = timeStr.split(':').map(Number);\n    const date = new Date();\n    date.setHours(h);\n    date.setMinutes(m + minutes);\n    return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n  };\n\n  // Sort rides for UI calculation (grouping order, added at the bottom)\n  const ridesChronological = useMemo(() => {\n    const flatRides = [];\n    const days = Object.keys(rides);\n    \n    // We don't sort days globally for the UI if the user wants \"as added\"\n    // But usually logbook days are expected to be in order.\n    // However, the user said \"do not sort anything inplace... always add it to the botom\".\n    // This implies that as they add rides across days, the cumulative KM continues.\n    \n    // Let's collect ALL rides first\n    const allRidesRaw = [];\n    Object.keys(rides).forEach(day => {\n      (rides[day] || []).forEach(r => allRidesRaw.push({ ...r, day: parseInt(day) }));\n    });\n    \n    // Separate parents and children\n    const parents = allRidesRaw.filter(r => !r.parentId).sort((a, b) => a.id - b.id);\n    const children = allRidesRaw.filter(r => r.parentId);\n\n    parents.forEach(parent => {\n      flatRides.push(parent);\n      const child = children.find(c => c.parentId === parent.id);\n      if (child) {\n        flatRides.push(child);\n      }\n    });\n    \n    // Safety for orphans\n    children.forEach(child => {\n      if (!flatRides.find(r => r.id === child.id)) {\n        flatRides.push(child);\n      }\n    });\n\n    return flatRides;\n  }, [rides]);\n\n  // No longer calculating KM Before/After\n  const activeDayTotalKm = useMemo(() => {\n    return (rides[activeDay] || []).reduce((sum, r) => sum + (parseFloat(r.distanceKm) || 0), 0);\n  }, [rides, activeDay]);\n\n  const monthlyTotalKm = useMemo(() => {\n    return ridesChronological.reduce((sum, r) => sum + (parseFloat(r.distanceKm) || 0), 0);\n  }, [ridesChronological]);\n\n  // Group by day and keep chronological order for display\n  const chainedRidesMap = useMemo(() => {\n    const map = {};\n    \n    ridesChronological.forEach(ride => {\n      if (!map[ride.day]) map[ride.day] = [];\n      map[ride.day].push(ride);\n    });\n\n    return map;\n  }, [ridesChronological]);\n\n  const handleAddPurpose = (newPurpose) => {\n    if (!newPurpose || !newPurpose.trim()) return;\n    const trimmed = newPurpose.trim();\n    if (!storedPurposes.includes(trimmed)) {\n      setStoredPurposes(prev => [...prev, trimmed].sort());\n    }\n  };\n\n  const addRide = (day) => {\n    const newRide = { \n      id: Date.now(), \n      from: '', \n      to: '', \n      pointA: '', \n      pointB: '', \n      waypoints: [], // Supports N waypoints\n      purpose: '',\n      distanceKm: 0,\n      coordsA: null,\n      coordsB: null,\n      isManualDistance: false\n    };\n    setRides(prev => ({\n      ...prev,\n      [day]: [...(prev[day] || []), newRide] // Add to end (bottom)\n    }));\n  };\n\n  const updateRide = async (day, id, field, value, coords = null) => {\n    const currentDayRides = rides[day] || [];\n    const rideIndex = currentDayRides.findIndex(r => r.id === id);\n    if (rideIndex === -1) return;\n    const currentRide = currentDayRides[rideIndex];\n    \n    let updates = {};\n\n    // Handle discrete waypoint operations or general fields\n    if (field === 'addWaypoint') {\n      updates.waypoints = [...(currentRide.waypoints || []), { id: Date.now(), name: '', coords: null }];\n    } else if (field === 'removeWaypoint') {\n      const newWps = [...(currentRide.waypoints || [])];\n      newWps.splice(value, 1); // value is the index\n      updates.waypoints = newWps;\n    } else if (field === 'updateWaypoint') {\n      const { index, name, coords: wpCoords } = value;\n      const newWps = [...(currentRide.waypoints || [])];\n      newWps[index] = { ...newWps[index], name, coords: wpCoords };\n      updates.waypoints = newWps;\n    } else {\n      updates[field] = value;\n      if (field === 'pointA') updates.coordsA = coords;\n      if (field === 'pointB') updates.coordsB = coords;\n    }\n\n    // Handle manual distance editing\n    if (field === 'distanceKm') {\n      updates.isManualDistance = true;\n    }\n\n    // Determine if we need to recalculate distance/duration\n    const triggersRecalc = field === 'pointA' || field === 'pointB' || field === 'from' || \n                           field === 'addWaypoint' || field === 'removeWaypoint' || field === 'updateWaypoint';\n\n    if (triggersRecalc) {\n      const cA = updates.coordsA !== undefined ? updates.coordsA : currentRide.coordsA;\n      const cB = updates.coordsB !== undefined ? updates.coordsB : currentRide.coordsB;\n      const wps = updates.waypoints !== undefined ? updates.waypoints : (currentRide.waypoints || []);\n      const startTime = field === 'from' ? value : currentRide.from;\n\n      if (!cA || !cB) {\n        // If start or end point is missing, reset distance\n        updates.distanceKm = 0;\n      } else if (!currentRide.isManualDistance) {\n        const { distance, duration } = await fetchRouteInfo(cA, cB, wps);\n        updates.distanceKm = distance;\n        if (startTime) {\n          updates.to = addMinutesToTime(startTime, duration);\n        }\n      } else if (field === 'from') {\n         // If only 'from' changed, still need duration to update 'to'\n         const { duration } = await fetchRouteInfo(cA, cB, wps);\n         updates.to = addMinutesToTime(value, duration);\n      }\n    }\n\n    setRides(prev => {\n      const prevDayRides = [...(prev[day] || [])];\n      const idx = prevDayRides.findIndex(r => r.id === id);\n      if (idx === -1) return prev;\n      prevDayRides[idx] = { ...prevDayRides[idx], ...updates };\n      return { ...prev, [day]: prevDayRides };\n    });\n  };\n\n  const handleSuggestReturn = (ride) => {\n    const returnRide = {\n      id: Date.now() + 1,\n      from: '',\n      to: '',\n      pointA: ride.pointB,\n      pointB: ride.pointA,\n      waypoints: (ride.waypoints || []).map(wp => ({ ...wp, id: Date.now() + Math.random() })).reverse(),\n      purpose: ride.purpose || '',\n      coordsA: ride.coordsB,\n      coordsB: ride.coordsA,\n      distanceKm: ride.distanceKm,\n      isManualDistance: false,\n      parentId: ride.id\n    };\n\n    setRides(prev => ({\n      ...prev,\n      [activeDay]: [...(prev[activeDay] || []), returnRide]\n    }));\n  };\n\n  const deleteRide = (day, id) => {\n    setRides(prev => {\n      const dayRides = prev[day] || [];\n      const toDeleteIds = [id, ...dayRides.filter(r => r.parentId === id).map(r => r.id)];\n      return {\n        ...prev,\n        [day]: dayRides.filter(ride => !toDeleteIds.includes(ride.id))\n      };\n    });\n  };\n\n  const exportExcel = () => {\n\n    const monthStr = format(currentMonth, 'yyyy-MM');\n    const monthName = format(currentMonth, 'MMMM yyyy');\n    \n    // Sort chronologically for export: by day, then by \"from\" time\n    const exportRides = [];\n    const sortedDays = Object.keys(rides).sort((a,b) => parseInt(a) - parseInt(b));\n    \n    sortedDays.forEach(day => {\n      const dayRides = [...(rides[day] || [])];\n      // Sort by \"from\" time within the day\n      dayRides.sort((a, b) => {\n        if (!a.from) return 1;\n        if (!b.from) return -1;\n        return a.from.localeCompare(b.from);\n      });\n      dayRides.forEach(r => exportRides.push({ ...r, day: parseInt(day) }));\n    });\n\n    let runningKm = parseFloat(kmStartOfMonth) || 0;\n    const data = exportRides.map(ride => {\n      const kmBefore = runningKm;\n      const kmAfter = kmBefore + (parseFloat(ride.distanceKm) || 0);\n      runningKm = kmAfter;\n\n      const date = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), ride.day);\n      return {\n        'Dátum': format(date, 'dd/MM/yyyy'),\n        'Den': format(date, 'EEEE'),\n        'Čas odjazdu': ride.from,\n        'Čas príchodu': ride.to,\n        'Miesto odjazdu': ride.pointA,\n        'Miesto príchodu': ride.pointB,\n        'Účel cesty': ride.purpose || '',\n        'Vzdialenosť (km)': ride.distanceKm,\n        'Stav tachometra pred jazdou': kmBefore.toFixed(1),\n        'Stav tachometra po jazde': kmAfter.toFixed(1)\n      };\n    });\n\n    // Create workbook and worksheet\n    const wb = XLSX.utils.book_new();\n    const ws = XLSX.utils.json_to_sheet(data);\n\n    // Set column widths\n    ws['!cols'] = [\n      { wch: 12 }, // Date\n      { wch: 12 }, // Day\n      { wch: 8 },  // From\n      { wch: 8 },  // To\n      { wch: 30 }, // Start Point\n      { wch: 30 }, // End Point\n      { wch: 30 }, // Purpose\n      { wch: 12 }, // Distance\n      { wch: 12 }, // KM Before\n      { wch: 12 }  // KM After\n    ];\n\n    // Add worksheet to workbook\n    XLSX.utils.book_append_sheet(wb, ws, monthName);\n\n    // Generate Excel file and download\n    XLSX.writeFile(wb, `rides_${monthStr}.xlsx`);\n  };\n\n  const lastDay = endOfMonth(currentMonth).getDate();\n  const daysArray = Array.from({ length: lastDay }, (_, i) => i + 1);\n\n  return (\n    <div className=\"animate-fade-in\" style={{ paddingBottom: '5rem' }}>\n      <header style={{ marginBottom: '2rem' }}>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '1.5rem' }}>\n          <h1 className=\"gradient-text\" style={{ fontSize: '2rem' }}>Ride Evidence</h1>\n          <div style={{ display: 'flex', gap: '0.75rem', alignItems: 'center' }}>\n            <div \n              ref={homeRef}\n              className=\"glass\" \n              style={{ \n                padding: '0.5rem', \n                display: 'flex', \n                alignItems: 'center', \n                justifyContent: 'center',\n                cursor: 'pointer',\n                borderColor: homeAddress ? 'var(--success)' : (isEditingHome ? 'var(--accent-primary)' : 'var(--border-color)'),\n                transition: 'all 0.2s ease',\n                background: isEditingHome ? 'rgba(var(--accent-primary-rgb), 0.1)' : 'transparent',\n                boxShadow: homeAddress ? '0 0 15px rgba(16, 185, 129, 0.2)' : 'none'\n              }}\n              onClick={() => setIsEditingHome(!isEditingHome)}\n              title={homeAddress ? `Home: ${homeAddress}` : \"Set Home Address\"}\n            >\n              <MapPin size={18} style={{ color: homeAddress ? 'var(--success)' : 'var(--text-secondary)' }} />\n            </div>\n\n            <div className=\"glass\" style={{ \n              padding: '0.4rem 0.75rem', \n              display: 'flex', \n              alignItems: 'center', \n              gap: '0.5rem',\n              border: !kmStartOfMonth ? '2px solid var(--danger)' : '1px solid var(--border-color)',\n              background: !kmStartOfMonth ? 'rgba(239, 68, 68, 0.05)' : 'transparent'\n            }}>\n              <Gauge size={16} style={{ color: !kmStartOfMonth ? 'var(--danger)' : 'var(--accent-primary)' }} />\n              <input \n                type=\"text\" \n                inputMode=\"decimal\"\n                className=\"input-base\" \n                style={{ width: '80px', border: 'none', background: 'transparent', padding: '0.25rem', fontSize: '1rem', fontWeight: 600 }}\n                value={kmStartOfMonth === 0 ? '' : kmStartOfMonth}\n                onChange={(e) => {\n                  const val = e.target.value.replace(/[^0-9.]/g, '');\n                  if (val === '' || val === '.') {\n                    setKmStartOfMonth(0);\n                  } else {\n                    const parsed = parseFloat(val) || 0;\n                    setKmStartOfMonth(parsed);\n                  }\n                }}\n                placeholder=\"Required\"\n              />\n              <span style={{ fontSize: '0.75rem', color: !kmStartOfMonth ? 'var(--danger)' : 'var(--text-secondary)', fontWeight: 600 }}>km</span>\n            </div>\n            <button \n              className=\"primary\" \n              onClick={exportExcel}\n              style={{ opacity: !kmStartOfMonth ? 0.5 : 1, cursor: !kmStartOfMonth ? 'not-allowed' : 'pointer' }}\n              title={!kmStartOfMonth ? \"Please fill KM Start first\" : \"Export to Excel\"}\n            >\n              <Download size={18} /> Export\n            </button>\n          </div>\n        </div>\n\n        {isEditingHome && (\n          <div \n            ref={homeEditRef}\n            className=\"glass animate-fade-in\" \n            style={{ \n              padding: '0.75rem 1rem', \n              marginBottom: '1.5rem', \n              display: 'flex', \n              alignItems: 'center', \n              gap: '1rem',\n              maxWidth: '500px',\n              marginLeft: 'auto',\n              position: 'relative',\n              zIndex: activeFieldId === 'home-address' ? 200 : 10\n            }}\n          >\n            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', color: 'var(--accent-primary)' }}>\n              <MapPin size={18} />\n              <span style={{ fontSize: '0.75rem', fontWeight: 700, whiteSpace: 'nowrap' }}>SET HOME</span>\n            </div>\n            <div style={{ flex: 1 }}>\n              <LocationAutocomplete \n                id=\"home-address\"\n                value={homeAddress}\n                onChange={(val) => setHomeAddress(val)}\n                onSelectCoord={(name, coords) => {\n                  setHomeAddress(name);\n                  setHomeCoords(coords);\n                  setIsEditingHome(false);\n                }}\n                onFocus={() => setActiveFieldId('home-address')}\n                onBlur={() => setActiveFieldId(null)}\n                placeholder=\"Search address...\"\n              />\n            </div>\n          </div>\n        )}\n\n        <div style={{ display: 'flex', gap: '1rem', alignItems: 'center', marginBottom: '1.5rem' }}>\n          <div className=\"calendar-popover-container\" ref={calendarRef} style={{ flex: 1 }}>\n            <div \n              className=\"glass\" \n              style={{ \n                height: '56px',\n                padding: '0 1rem', \n                display: 'flex', \n                alignItems: 'center', \n                gap: '1rem', \n                cursor: 'pointer',\n                borderColor: isCalendarOpen ? 'var(--accent-primary)' : 'var(--border-color)',\n                transition: 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)'\n              }}\n              onClick={() => setIsCalendarOpen(!isCalendarOpen)}\n            >\n              <button className=\"secondary\" style={{ padding: '0.3rem' }} onClick={(e) => { e.stopPropagation(); setCurrentMonth(subMonths(currentMonth, 1)); setActiveDay(1); }}>\n                <ChevronLeft size={18} />\n              </button>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', flex: 1, justifyContent: 'center' }}>\n                <CalendarIcon size={18} style={{ color: isCalendarOpen ? 'var(--accent-primary)' : 'var(--text-secondary)' }} />\n                <h2 style={{ fontSize: '1.1rem', fontWeight: 600 }}>\n                  {format(currentMonth, 'MMMM yyyy')}\n                </h2>\n              </div>\n              <button className=\"secondary\" style={{ padding: '0.3rem' }} onClick={(e) => { e.stopPropagation(); setCurrentMonth(addMonths(currentMonth, 1)); setActiveDay(1); }}>\n                <ChevronRight size={18} />\n              </button>\n            </div>\n\n            {isCalendarOpen && (\n              <div className=\"calendar-popover\" style={{ top: '65px', left: 0, right: 0, margin: '0 auto', maxWidth: '400px' }}>\n                <div className=\"calendar-header-days\">\n                  {['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'].map(day => (\n                    <div key={day} className=\"calendar-header-day\">{day}</div>\n                  ))}\n                </div>\n\n                <div className=\"calendar-grid\">\n                  {Array.from({ length: (startOfMonth(currentMonth).getDay() + 6) % 7 }).map((_, i) => (\n                    <div key={`empty-${i}`} style={{ background: 'transparent', border: 'none' }} />\n                  ))}\n                  \n                  {daysArray.map(day => {\n                    const date = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), day);\n                    const dayName = format(date, 'EEE');\n                    return (\n                      <div \n                        key={day} \n                        className={`day-cell ${day === activeDay ? 'active' : ''} ${rides[day]?.length > 0 ? 'has-data' : ''}`}\n                        onClick={() => { \n                          setActiveDay(day); \n                          setIsCalendarOpen(false);\n                        }}\n                      >\n                        <span className=\"day-name\">{dayName}</span>\n                        <span className=\"day-number\">{day}</span>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n            <div className=\"glass\" style={{ height: '56px', padding: '0 1.25rem', display: 'flex', alignItems: 'center', gap: '0.75rem', border: '1px solid rgba(var(--accent-primary-rgb), 0.3)', background: 'rgba(var(--accent-primary-rgb), 0.05)' }}>\n              <div style={{ display: 'flex', flexDirection: 'column' }}>\n                <span style={{ fontSize: '0.65rem', color: 'var(--text-secondary)', fontWeight: 700, letterSpacing: '0.05em' }}>MONTH TOTAL</span>\n                <div style={{ display: 'flex', alignItems: 'baseline', gap: '0.4rem' }}>\n                  <span style={{ fontSize: '1.25rem', fontWeight: 800, color: 'var(--accent-primary)' }}>{monthlyTotalKm.toFixed(1)}</span>\n                  <span style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', fontWeight: 600 }}>km</span>\n                  {/* <span style={{ fontSize: '0.7rem', color: 'var(--text-secondary)', opacity: 0.5, marginLeft: '0.5rem' }}>Start: {kmStartOfMonth}</span> */}\n                </div>\n              </div>\n            </div>\n\n            <div className=\"glass\" style={{ height: '56px', padding: '0 1.25rem', display: 'flex', alignItems: 'center', gap: '0.75rem', border: '1px solid rgba(var(--accent-secondary-rgb), 0.3)', background: 'rgba(var(--accent-secondary-rgb), 0.05)' }}>\n              <div style={{ display: 'flex', flexDirection: 'column' }}>\n                <span style={{ fontSize: '0.65rem', color: 'var(--text-secondary)', fontWeight: 700, letterSpacing: '0.05em' }}>DAY TOTAL</span>\n                <div style={{ display: 'flex', alignItems: 'baseline', gap: '0.4rem' }}>\n                  <span style={{ fontSize: '1.25rem', fontWeight: 800, color: 'var(--accent-secondary)' }}>{activeDayTotalKm.toFixed(1)}</span>\n                  <span style={{ fontSize: '0.75rem', color: 'var(--text-secondary)', fontWeight: 600 }}>km</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main>\n        <div className=\"glass animate-fade-in\" style={{ padding: '2rem' }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n            <h3 style={{ fontSize: '1.5rem', display: 'flex', alignItems: 'center', gap: '1rem' }}>\n              <span style={{ background: 'var(--accent-primary)', width: '40px', height: '40px', borderRadius: '12px', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n                {activeDay}\n              </span>\n              {format(new Date(currentMonth.getFullYear(), currentMonth.getMonth(), activeDay), 'EEEE, MMMM do')}\n            </h3>\n            <button className=\"secondary\" onClick={() => addRide(activeDay)} style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n              <Plus size={18} /> Add Ride\n            </button>\n          </div>\n\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '1.5rem' }}>\n            {(!rides[activeDay] || rides[activeDay].length === 0) && (\n              <div style={{ textAlign: 'center', padding: '3rem', opacity: 0.5 }}>\n                <Car size={48} style={{ margin: '0 auto 1rem' }} />\n                <p>No rides for this day. Click \"Add Ride\" to begin.</p>\n              </div>\n            )}\n\n            {(chainedRidesMap[activeDay] || []).filter(r => !r.parentId).map((ride) => {\n              const childRide = (chainedRidesMap[activeDay] || []).find(c => c.parentId === ride.id);\n              \n              return (\n                <div key={ride.id} className=\"animate-fade-in\" style={{ \n                  background: 'rgba(255,255,255,0.02)',\n                  borderRadius: '1.25rem',\n                  border: '1px solid var(--border-color)',\n                  position: 'relative',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  marginBottom: '1rem' \n                }}>\n                  {/* Parent Ride Section */}\n                  <div style={{ padding: '1.25rem', position: 'relative' }}>\n                    {/* Delete Button - Top Right */}\n                    <div style={{ position: 'absolute', top: '0.75rem', right: '0.75rem', zIndex: 10 }}>\n                      <button \n                        className=\"secondary\" \n                        onClick={() => deleteRide(activeDay, ride.id)}\n                        style={{ color: 'var(--danger)', height: '28px', width: '28px', padding: 0, justifyContent: 'center', background: 'rgba(239, 68, 68, 0.1)', borderColor: 'rgba(239, 68, 68, 0.2)' }}\n                      >\n                        <Trash2 size={12} />\n                      </button>\n                    </div>\n\n                    <div style={{ position: 'relative', display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\n                      {/* Row 1: Departure */}\n                      <div style={{ display: 'flex', gap: '1.25rem', alignItems: 'flex-end', position: 'relative', zIndex: activeFieldId === `ride-${ride.id}-pointA` ? 100 : 2 }}>\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', width: '80px', flexShrink: 0 }}>\n                          <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>DEPARTURE</label>\n                          <SmartTimeInput \n                            id={`from-${ride.id}`}\n                            value={ride.from} \n                            onChange={(val) => updateRide(activeDay, ride.id, 'from', val)} \n                            onTab={() => document.getElementById(`pointA-${ride.id}`)?.focus()}\n                          />\n                        </div>\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', flex: 1 }}>\n                          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', minHeight: '18px' }}>\n                            <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>START POINT</label>\n                          </div>\n                          <LocationAutocomplete \n                            id={`pointA-${ride.id}`}\n                            value={ride.pointA} \n                            onChange={(val) => updateRide(activeDay, ride.id, 'pointA', val)}\n                            onSelectCoord={(name, coords) => updateRide(activeDay, ride.id, 'pointA', name, coords)}\n                            onHomeClick={homeAddress ? () => updateRide(activeDay, ride.id, 'pointA', homeAddress, homeCoords) : null}\n                            onFocus={() => setActiveFieldId(`ride-${ride.id}-pointA`)}\n                            onBlur={() => setActiveFieldId(null)}\n                            placeholder=\"Departure point...\"\n                          />\n                        </div>\n                      </div>\n\n                      {/* Waypoints List */}\n                      {(ride.waypoints || []).map((wp, index) => (\n                        <div key={wp.id} style={{ display: 'flex', gap: '1.25rem', alignItems: 'flex-end', position: 'relative', zIndex: activeFieldId === `waypoint-${ride.id}-${wp.id}` ? 100 : 1 }}>\n                          <div style={{ width: '80px', flexShrink: 0 }}></div>\n                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', flex: 1 }}>\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', minHeight: '18px' }}>\n                              <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>VIA (WAYPOINT {index + 1})</label>\n                              <button \n                                onClick={() => updateRide(activeDay, ride.id, 'removeWaypoint', index)}\n                                style={{ background: 'none', border: 'none', color: 'var(--text-secondary)', cursor: 'pointer', fontSize: '0.7rem', padding: '0', opacity: 0.7 }}\n                              >✕</button>\n                            </div>\n                            <LocationAutocomplete \n                              id={`waypoint-${ride.id}-${wp.id}`}\n                              value={wp.name} \n                              onChange={(val) => updateRide(activeDay, ride.id, 'updateWaypoint', { index, name: val, coords: wp.coords })}\n                              onSelectCoord={(name, coords) => updateRide(activeDay, ride.id, 'updateWaypoint', { index, name, coords })}\n                              onHomeClick={homeAddress ? () => updateRide(activeDay, ride.id, 'updateWaypoint', { index, name: homeAddress, coords: homeCoords }) : null}\n                              onFocus={() => setActiveFieldId(`waypoint-${ride.id}-${wp.id}`)}\n                              onBlur={() => setActiveFieldId(null)}\n                              placeholder=\"Stopover point...\"\n                            />\n                          </div>\n                        </div>\n                      ))}\n\n                      <div style={{ display: 'flex', paddingLeft: '80px' }}>\n                        <button \n                          className=\"secondary\"\n                          onClick={() => updateRide(activeDay, ride.id, 'addWaypoint')}\n                          style={{ \n                            padding: '0.15rem 0.5rem', \n                            fontSize: '0.6rem', \n                            borderStyle: 'dashed', \n                            opacity: 0.5,\n                            marginLeft: '1.25rem'\n                          }}\n                        >+ Add Waypoint</button>\n                      </div>\n\n                      {/* Row 2: Arrival */}\n                      <div style={{ display: 'flex', gap: '1.25rem', alignItems: 'flex-end', position: 'relative', zIndex: activeFieldId === `ride-${ride.id}-pointB` ? 100 : 1 }}>\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', width: '80px', flexShrink: 0 }}>\n                          <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>ARRIVAL</label>\n                          <SmartTimeInput \n                            id={`to-${ride.id}`}\n                            value={ride.to} \n                            onChange={(val) => updateRide(activeDay, ride.id, 'to', val)} \n                          />\n                        </div>\n                        <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', flex: 1 }}>\n                          <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', minHeight: '18px' }}>\n                            <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>END POINT</label>\n                          </div>\n                          <LocationAutocomplete \n                            id={`pointB-${ride.id}`}\n                            value={ride.pointB} \n                            onChange={(val) => updateRide(activeDay, ride.id, 'pointB', val)}\n                            onSelectCoord={(name, coords) => updateRide(activeDay, ride.id, 'pointB', name, coords)}\n                            onHomeClick={homeAddress ? () => updateRide(activeDay, ride.id, 'pointB', homeAddress, homeCoords) : null}\n                            onFocus={() => setActiveFieldId(`ride-${ride.id}-pointB`)}\n                            onBlur={() => setActiveFieldId(null)}\n                            placeholder=\"Destination point...\"\n                          />\n                        </div>\n                      </div>\n\n                      {/* Conditional Row: Purpose */}\n                      {showPurposeForRide[ride.id] && (\n                        <div style={{ paddingLeft: '92.5px', position: 'relative', zIndex: activeFieldId === `ride-${ride.id}-purpose` ? 100 : 1 }}>\n                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem' }}>\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                              <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>PURPOSE</label>\n                              <button \n                                onClick={() => {\n                                  setShowPurposeForRide(prev => ({ ...prev, [ride.id]: false }));\n                                  updateRide(activeDay, ride.id, 'purpose', '');\n                                }}\n                                style={{ background: 'none', border: 'none', color: 'var(--text-secondary)', cursor: 'pointer', fontSize: '0.7rem', padding: '0', opacity: 0.7 }}\n                              >✕</button>\n                            </div>\n                              <SimpleAutocomplete \n                                value={ride.purpose || ''}\n                                onChange={(val) => updateRide(activeDay, ride.id, 'purpose', val)}\n                                suggestions={storedPurposes}\n                                placeholder=\"e.g., Client meeting...\"\n                                onFocus={() => setActiveFieldId(`ride-${ride.id}-purpose`)}\n                                onBlur={() => setActiveFieldId(null)}\n                                onSaveNew={handleAddPurpose}\n                              />\n                          </div>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Footer: Add Return (Left) and Distance (Right) */}\n                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginTop: '1.25rem', borderTop: '1px solid rgba(255,255,255,0.05)', paddingTop: '1rem' }}>\n                      <div style={{ display: 'flex', gap: '0.5rem', alignItems: 'center' }}>\n                        {!childRide && ride.pointA && ride.pointB && ride.from && ride.distanceKm > 0 && (\n                          <button \n                            className=\"secondary\"\n                            onClick={() => handleSuggestReturn(ride)}\n                            style={{ \n                              padding: '0.4rem 0.75rem',\n                              fontSize: '0.7rem',\n                              display: 'flex',\n                              gap: '0.4rem',\n                              alignItems: 'center',\n                              borderColor: 'var(--accent-primary)',\n                              background: 'rgba(var(--accent-primary-rgb), 0.1)',\n                              color: 'var(--accent-primary)',\n                              fontWeight: 700,\n                              borderRadius: '0.75rem'\n                            }}\n                          >\n                            <RefreshCw size={12} /> Add Return\n                          </button>\n                        )}\n                        {!showPurposeForRide[ride.id] && (\n                          <button \n                            className=\"secondary\"\n                            onClick={() => setShowPurposeForRide(prev => ({ ...prev, [ride.id]: true }))}\n                            style={{ padding: '0.35rem 0.6rem', fontSize: '0.65rem', borderStyle: 'dashed', opacity: 0.7 }}\n                          >+ Add Purpose</button>\n                        )}\n                      </div>\n\n                      <div style={{ display: 'flex', alignItems: 'center', gap: '0.4rem', background: 'rgba(var(--accent-secondary-rgb), 0.1)', padding: '0.35rem 0.6rem', borderRadius: '0.75rem', border: '1px solid rgba(var(--accent-secondary-rgb), 0.2)' }}>\n                        <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800 }}>DISTANCE</label>\n                        <input \n                          type=\"text\" \n                          inputMode=\"decimal\"\n                          className=\"input-base\" \n                          style={{ \n                            padding: '0.15rem 0.35rem', \n                            fontSize: '0.9rem',\n                            border: 'none',\n                            background: 'transparent',\n                            width: '45px',\n                            fontWeight: 800,\n                            textAlign: 'right',\n                            color: 'var(--accent-secondary)'\n                          }}\n                          value={ride.distanceKm || ''}\n                          onChange={(e) => {\n                            const val = e.target.value.replace(/[^0-9.]/g, '');\n                            updateRide(activeDay, ride.id, 'distanceKm', val === '' ? 0 : parseFloat(val));\n                          }}\n                        />\n                        <span style={{ fontSize: '0.7rem', color: 'var(--text-secondary)', fontWeight: 700 }}>km</span>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Return Ride Section - Indented and Compact */}\n                  {childRide ? (\n                    <div style={{ \n                      background: 'rgba(255,255,255,0.03)', \n                      borderTop: '1px solid rgba(var(--accent-primary-rgb), 0.2)',\n                      padding: '1rem',\n                      marginLeft: '1.25rem',\n                      marginRight: '1rem',\n                      marginBottom: '1rem',\n                      borderRadius: '1rem',\n                      position: 'relative'\n                    }}>\n                      <div style={{ \n                        position: 'absolute', \n                        top: '-1px', \n                        left: '0.75rem', \n                        background: 'var(--accent-primary)', \n                        color: 'white', \n                        fontSize: '0.55rem', \n                        fontWeight: 900, \n                        padding: '0.15rem 0.5rem', \n                        borderRadius: '0 0 0.4rem 0.4rem',\n                        letterSpacing: '0.05em',\n                        zIndex: 5\n                      }}>RETURN RIDE</div>\n\n                      {/* Header Row: Delete Button for Return */}\n                      <div style={{ position: 'absolute', top: '0.6rem', right: '0.6rem', zIndex: 10 }}>\n                        <button \n                          className=\"secondary\" \n                          onClick={() => deleteRide(activeDay, childRide.id)}\n                          style={{ color: 'var(--danger)', height: '26px', width: '26px', padding: 0, justifyContent: 'center', background: 'rgba(239, 68, 68, 0.1)', borderColor: 'rgba(239, 68, 68, 0.2)' }}\n                        >\n                          <Trash2 size={10} />\n                        </button>\n                      </div>\n\n                      <div style={{ position: 'relative', display: 'flex', flexDirection: 'column', gap: '0.6rem', marginTop: '0.6rem' }}>\n                        {/* Row 1: Departure (Return) */}\n                        <div style={{ display: 'flex', gap: '1.25rem', alignItems: 'flex-end', position: 'relative', zIndex: activeFieldId === `ride-${childRide.id}-pointA` ? 100 : 2 }}>\n                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', width: '80px', flexShrink: 0 }}>\n                            <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>DEPARTURE</label>\n                            <SmartTimeInput \n                              id={`from-${childRide.id}`}\n                              value={childRide.from} \n                              onChange={(val) => updateRide(activeDay, childRide.id, 'from', val)} \n                            />\n                          </div>\n                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', flex: 1 }}>\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', minHeight: '18px', paddingRight: '28px' }}>\n                              <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>START POINT</label>\n                            </div>\n                            <LocationAutocomplete \n                              id={`pointA-${childRide.id}`}\n                              value={childRide.pointA} \n                              onChange={(val) => updateRide(activeDay, childRide.id, 'pointA', val)}\n                              onSelectCoord={(name, coords) => updateRide(activeDay, childRide.id, 'pointA', name, coords)}\n                              onHomeClick={homeAddress ? () => updateRide(activeDay, childRide.id, 'pointA', homeAddress, homeCoords) : null}\n                              onFocus={() => setActiveFieldId(`ride-${childRide.id}-pointA`)}\n                              onBlur={() => setActiveFieldId(null)}\n                              placeholder=\"Departure point...\"\n                            />\n                          </div>\n                        </div>\n\n                        {/* Waypoints List (Return) */}\n                        {(childRide.waypoints || []).map((wp, index) => (\n                          <div key={wp.id} style={{ display: 'flex', gap: '1.25rem', alignItems: 'flex-end', position: 'relative', zIndex: activeFieldId === `waypoint-${childRide.id}-${wp.id}` ? 100 : 1 }}>\n                            <div style={{ width: '80px', flexShrink: 0 }}></div>\n                            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', flex: 1 }}>\n                              <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', minHeight: '18px' }}>\n                                <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>VIA (WAYPOINT {index + 1})</label>\n                                <button \n                                  onClick={() => updateRide(activeDay, childRide.id, 'removeWaypoint', index)}\n                                  style={{ background: 'none', border: 'none', color: 'var(--text-secondary)', cursor: 'pointer', fontSize: '0.7rem', padding: '0', opacity: 0.7 }}\n                                >✕</button>\n                              </div>\n                              <LocationAutocomplete \n                                id={`waypoint-${childRide.id}-${wp.id}`}\n                                value={wp.name} \n                                onChange={(val) => updateRide(activeDay, childRide.id, 'updateWaypoint', { index, name: val, coords: wp.coords })}\n                                onSelectCoord={(name, coords) => updateRide(activeDay, childRide.id, 'updateWaypoint', { index, name, coords })}\n                                onHomeClick={homeAddress ? () => updateRide(activeDay, childRide.id, 'updateWaypoint', { index, name: homeAddress, coords: homeCoords }) : null}\n                                onFocus={() => setActiveFieldId(`waypoint-${childRide.id}-${wp.id}`)}\n                                onBlur={() => setActiveFieldId(null)}\n                                placeholder=\"Stopover point...\"\n                              />\n                            </div>\n                          </div>\n                        ))}\n\n                        <div style={{ display: 'flex', paddingLeft: '80px' }}>\n                          <button \n                            className=\"secondary\"\n                            onClick={() => updateRide(activeDay, childRide.id, 'addWaypoint')}\n                            style={{ \n                              padding: '0.15rem 0.5rem', \n                              fontSize: '0.6rem', \n                              borderStyle: 'dashed', \n                              opacity: 0.5,\n                              marginLeft: '1.25rem'\n                            }}\n                          >+ Add Waypoint</button>\n                        </div>\n\n                        {/* Row 2: Arrival (Return) */}\n                        <div style={{ display: 'flex', gap: '1.25rem', alignItems: 'flex-end', position: 'relative', zIndex: activeFieldId === `ride-${childRide.id}-pointB` ? 100 : 1 }}>\n                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', width: '80px', flexShrink: 0 }}>\n                            <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>ARRIVAL</label>\n                            <SmartTimeInput \n                              id={`to-${childRide.id}`}\n                              value={childRide.to} \n                              onChange={(val) => updateRide(activeDay, childRide.id, 'to', val)} \n                            />\n                          </div>\n                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem', flex: 1 }}>\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', minHeight: '18px' }}>\n                              <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>END POINT</label>\n                            </div>\n                            <LocationAutocomplete \n                              id={`pointB-${childRide.id}`}\n                              value={childRide.pointB} \n                              onChange={(val) => updateRide(activeDay, childRide.id, 'pointB', val)}\n                              onSelectCoord={(name, coords) => updateRide(activeDay, childRide.id, 'pointB', name, coords)}\n                              onHomeClick={homeAddress ? () => updateRide(activeDay, childRide.id, 'pointB', homeAddress, homeCoords) : null}\n                              onFocus={() => setActiveFieldId(`ride-${childRide.id}-pointB`)}\n                              onBlur={() => setActiveFieldId(null)}\n                              placeholder=\"Destination point...\"\n                            />\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Conditional Row: Purpose (Return) */}\n                      {showPurposeForRide[childRide.id] && (\n                        <div style={{ paddingLeft: '92.5px', position: 'relative', zIndex: activeFieldId === `ride-${childRide.id}-purpose` ? 100 : 1 }}>\n                          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.3rem' }}>\n                            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                              <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800, letterSpacing: '0.05em' }}>PURPOSE</label>\n                              <button \n                                onClick={() => {\n                                  setShowPurposeForRide(prev => ({ ...prev, [childRide.id]: false }));\n                                  updateRide(activeDay, childRide.id, 'purpose', '');\n                                }}\n                                style={{ background: 'none', border: 'none', color: 'var(--text-secondary)', cursor: 'pointer', fontSize: '0.7rem', padding: '0', opacity: 0.7 }}\n                              >✕</button>\n                            </div>\n                              <SimpleAutocomplete \n                                value={childRide.purpose || ''}\n                                onChange={(val) => updateRide(activeDay, childRide.id, 'purpose', val)}\n                                suggestions={storedPurposes}\n                                placeholder=\"e.g., Client meeting...\"\n                                onFocus={() => setActiveFieldId(`ride-${childRide.id}-purpose`)}\n                                onBlur={() => setActiveFieldId(null)}\n                                onSaveNew={handleAddPurpose}\n                              />\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Footer for Return Ride */}\n                      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginTop: '1rem', borderTop: '1px solid rgba(255,255,255,0.05)', paddingTop: '0.75rem' }}>\n                        <div style={{ display: 'flex', gap: '0.4rem' }}>\n                          {!showPurposeForRide[childRide.id] && (\n                            <button \n                              className=\"secondary\"\n                              onClick={() => setShowPurposeForRide(prev => ({ ...prev, [childRide.id]: true }))}\n                              style={{ padding: '0.3rem 0.5rem', fontSize: '0.6rem', borderStyle: 'dashed', opacity: 0.7 }}\n                            >+ Add Purpose</button>\n                          )}\n                        </div>\n\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '0.4rem', background: 'rgba(var(--accent-secondary-rgb), 0.1)', padding: '0.3rem 0.5rem', borderRadius: '0.6rem', border: '1px solid rgba(var(--accent-secondary-rgb), 0.2)' }}>\n                          <label style={{ fontSize: '0.6rem', color: 'var(--text-secondary)', fontWeight: 800 }}>DISTANCE</label>\n                          <input \n                            type=\"text\" \n                            inputMode=\"decimal\"\n                            className=\"input-base\" \n                            style={{ \n                              padding: '0.15rem 0.3rem', \n                              fontSize: '0.9rem',\n                              border: 'none',\n                              background: 'transparent',\n                              width: '45px',\n                              fontWeight: 800,\n                              textAlign: 'right',\n                              color: 'var(--accent-secondary)'\n                            }}\n                            value={childRide.distanceKm || ''}\n                            onChange={(e) => {\n                              const val = e.target.value.replace(/[^0-9.]/g, '');\n                              updateRide(activeDay, childRide.id, 'distanceKm', val === '' ? 0 : parseFloat(val));\n                            }}\n                          />\n                          <span style={{ fontSize: '0.7rem', color: 'var(--text-secondary)', fontWeight: 700 }}>km</span>\n                        </div>\n                      </div>\n                    </div>\n                  ) : null}\n                </div>\n              );\n            })}\n            {(rides[activeDay] || []).length > 0 && (\n              <button \n                className=\"secondary\" \n                onClick={() => addRide(activeDay)} \n                style={{ \n                  display: 'flex', \n                  gap: '0.5rem', \n                  alignItems: 'center', \n                  justifyContent: 'center',\n                  padding: '1rem',\n                  marginTop: '1.5rem',\n                  borderStyle: 'dashed',\n                  opacity: 0.8,\n                  width: '100%'\n                }}\n              >\n                <Plus size={18} /> Add Another Ride\n              </button>\n            )}\n          </div>\n        </div>\n      </main>\n\n      <footer style={{ marginTop: '3rem', textAlign: 'center', color: 'var(--text-secondary)', fontSize: '0.8rem', opacity: 0.5 }}>\n        Total KM this month: {Math.round(monthlyTotalKm)} km\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}